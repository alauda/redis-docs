---
weight: 10
sourceSHA: 466d24b86e751a4568e97e2db44d724a95ff194b9145c1dd0442dc7256e7c5e6
---

# 实例规格变更

随着数据量增长，在资源使用量接近存储配额前应及时扩容，以确保服务的持续可用。

## 限制说明

1. 如果您为当前实例配置了调度设置，副本数的变化必须符合当前的调度配置。

2. 在哨兵模式下，由于主从之间的同步关系，所有的存储容量必须设置为相同的目标容量，以确保数据能够正确同步。

3. 在集群模式下，不同分片的存储容量可以单独扩展，但同一分片内部的副本节点必须始终具有相同的容量。

4. 变更 CPU 和内存资源时，请根据业务需求和资源可用性进行评估，以避免因资源不足或过剩而导致扩容失败，进而使实例无法正常启动。

## 操作步骤

<Tabs>
  <Tab label="CLI">
    要变更实例规格，可以通过字段 `spec.resources` 来控制 (具体参考 [API 文档](../../apis/kubernetes_apis/redis/redis))。

    ```bash
    # 设置实例的规格为 cpu:300m, memory: 300Mi
    $ kubectl -n default patch redis s6 --type=merge --patch='{"spec": {"resources":{"limits":{"cpu": "300m","memory":"300Mi"},"requests":{"cpu":"300m", "memory":"300Mi"}}}}'
    ```
  </Tab>
  
  <Tab label="Web Console">
    1. 在左侧导航栏中，单击 **Redis**。

    2. 单击 ***命名空间的名称***。

    3. 单击 ***实例名称***。

    4. 在 **详细信息** 页签下，单击拓扑上方的 **更新规格**。

    5. 为对应的资源填入期望的副本数与新规格。

    6. 单击 **更新**。
  </Tab>
</Tabs>

稍等片刻，即可看到拓扑中的 **规格** 对应变化。
