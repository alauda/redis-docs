---
weight: 10
---

# 实例规格变更

随着数据量增长，在资源使用量接近存储配额前应及时扩容，以确保业务的持续可用。

## 限制说明

1. 如果您为当前实例做了调度相关设置，副本数发生变化时需要满足当前的调度配置。

2. 哨兵模式由于主从间的同步关系，所有的存储容量需要设置为同一目标容量，以确保数据同步关系正常。

3. 集群模式各分片间的存储容量可以分别扩充，但分片内部的副本节点始终为相同容量。

4. 变更 CPU 与 内存资源时，请根据业务情况与资源余量做评估，以避免资源过小或过大时实例扩容失败从而导致无法被正常拉起。


## 操作步骤

<Tabs>

<Tab label="CLI">

要变更实例规格，可通过字段 `spec.resources` 来控制(具体参考[API 文档](../../../../apis/kubernetes_apis/redis/redis))。

```bash
# 设置实例的规格为 cpu:300m, memory: 300Mi
kubectl -n default patch redis s6 --type=merge --patch='{"spec": {"resources":{"limits":{"cpu": "300m","memory":"300Mi"},"requests":{"cpu":"300m", "memory":"300Mi"}}}}'
```
</Tab>
<Tab label="Web Console">

1. 在左侧导航栏中，单击 **Redis**。

2. 单击 ***命名空间的名称***。

2. 单击 ***实例名称*** 。

3. 在 **详细信息** 页签下，单击拓扑上方的 **规格变更**。

4. 为对应的资源填入期望的副本数与新规格。

5. 单击 **更新**。


</Tab>
</Tabs>

稍等片刻，即可看到拓扑中的 **规格** 对应变化。
