---
weight: 75
sourceSHA: 09d30a449de6e32a7dfeda47a6415f58ebfde2b6e1d6324f4a5910230b141f89
---

# Monitoring and Alerts

The monitoring data embedded in the panel can be used for monitoring and alerting Redis from the perspectives of resources, performance, etc., and it supports configuring notification strategies.

## Monitoring

The platform by default collects common monitoring indicators for Redis related to resources and performance. In the instance's **Monitoring** tab, you can view real-time monitoring data for these indicators.

| Category             | Indicator               |
| -------------------- | ----------------------- |
| **Cluster Status Monitoring** | Key count statistics, command statistics, etc. |
| **Resource Monitoring**       | Memory usage, network traffic, etc.      |
| **Performance Monitoring**    | Connection count, network I/O, etc. |

## Alerts

To create alerting rules for Redis, go to the **Alerts** > **Rules** page in the Alauda Application Service.

### Configuring Alert Rules

To enable alerts, you must first create an alert rule in the Application Service. An alert rule describes the objects you want to monitor, under what conditions you wish to receive alerts, and how you will be notified about the relevant alerts.

The platform has the following built-in alert indicators:

| Name                     | Recommended Trigger Condition | Description                                       |
| :---------------------- | :---------------------------- | :------------------------------------------------ |
| Instance Status         | !=1, sustained for 30 seconds | Monitors the availability of the cluster          |
| Key Access Hit Rate     | < 80%, sustained for 30 seconds | Monitors the hit rate of keys; a low hit rate indicates that the accessed keys do not exist, necessitating adjustments to the cache strategy, and increasing the cache TTL, etc. |
| Average Response Time    | >0.1s, sustained for 30 seconds | Long response times can lead to decreased processing capacity; check if there is a CPU bottleneck, excessive request volume, or issues with Big Keys. |
| Master-Slave Switch     | =1, sustained for 30 seconds  | If a master-slave switch occurs, it may indicate a K8s cluster node failure or Redis node issues. |
| Single Node Input Bandwidth   | Judged based on hardware conditions | Monitors bandwidth in real-time to prevent bandwidth resource occupation from causing other business anomalies. |
| Single Node Output Bandwidth  | Judged based on hardware conditions | Monitors bandwidth in real-time to prevent bandwidth resource occupation from causing other business anomalies. |
| Single Node Client Connection Count | Judged based on resource conditions | Used to monitor abnormal connection situations.   |
| Node CPU Utilization    | > 80%, sustained for 30 seconds | Monitors CPU usage in real-time; if CPU utilization is too high, scaling considerations are necessary. |
| Node Memory Utilization  | > 80%, sustained for 30 seconds | Monitors memory usage in real-time; if memory utilization is too high, immediate scaling is required. |
| Node Storage Utilization  | > 80%, sustained for 30 seconds | Monitors storage space in real-time; if utilization is too high, scaling considerations are necessary. |

With the above alert indicators, quick creation of alert rules is achievable. In addition to built-in alert indicators, custom alert indicators can also be defined in the following format:

```yaml
(1/(1+(avg(irate(redis_keyspace_misses_total{namespace=~"<namespace>", pod=~"<podname prefix>-.*"}[5m])) by(namespace,service) / (avg(irate(redis_keyspace_hits_total{namespace=~"<namespace>", pod=~"<podname prefix>-.*"}[5m])) by(namespace,service)+1))))
```

In this context, `redis_keyspace_misses_total` is the name of the metric collected by Prometheus, `<namespace>` is used to filter the command space where the resources are located, and `<podname prefix>` is the prefix for Pods, used to match Pods created by `Deployment` or `StatefulSet`. For more detailed information on writing metrics, please refer to the [PromQL Official Documentation](https://prometheus.io/docs/prometheus/latest/querying/basics/).

For more information about configuring and using alerts, please refer to <ExternalSiteLink name="acp" href="appservice/unified-om/alert-policy-mgt/index" children="Alert Management" />.
