---
weight: 30
sourceSHA: 308585571db88077bffd035151f6160f84c24c6ffd00a0ffdcf91d9a017b364b
---

# Parameter Configuration

When creating a Redis instance, the system parameter template is used by default.

Alauda Application Services provides three parameter templates for different scenarios for each version of Redis (only two for 5.0) to facilitate users in quickly creating instances.

| Parameter Template  | Description                                                                                                                                                                                | Notes                                              |
| :------------------ | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :------------------------------------------------ |
| RDB Parameter Template | **RDB Persistence Parameter Template** This parameter template configures Redis to work with RDB persistence. RDB persistence saves the in-memory dataset to disk in binary format at specified time intervals. It is suitable for resource-limited scenarios that require a balance of performance and data reliability, with an acceptable level of data loss within minutes. In this mode, Redis can be used as a storage database. | Data reliability is provided based on the configured `save` parameter, which defaults to minute-level reliability.            |
| AOF Parameter Template | **AOF Persistence Parameter Template** This parameter template configures Redis to work with AOF persistence. AOF persistence records all write operations to a log file (in append mode) to ensure data safety. When Redis restarts, operations in the AOF file will be replayed to rebuild the dataset. It is suitable for resource-rich scenarios that do not have high performance requirements but need sufficient data safety. In this mode, Redis can also be used as a storage database. | Frequent data log persistence requires high disk performance and may reduce Redisâ€™s overall performance, but can provide second-level reliability. |
| Diskless Parameter Template | **Diskless Parameter Template** This parameter template disables Redis's persistence functionality. In this configuration, Redis only serves as a cache layer to speed up application access, with all data stored in memory. This means that all data will be lost upon Redis restart or failure. This configuration is suitable for high-performance requirements, but less concern for business data interruption. | All data is stored in memory, so performance is not affected by storage. However, if all nodes fail, all data will be lost.         |

When creating instance, you can select one of the above templates which matches most your business in the **Create Redis Instance** page for field **Parameter Templates**.

You can also create customize configurations in the parameter template for reuse.

Redis parameter configuration is divided into three categories:

| Name        | Parameters                                                                                          | Description                                |
| :------     | :------------------------------------------------------------------------------------------         | :----------------------------------------- |
| Hot Update Parameters  |                                                                                             | Take effect immediately after setting, no need to restart the instance.     |
| Restart Update Parameters | `databases`, `rename-command`, `rdbchecksum`, `tcp-backlog`, `io-threads`, `io-threads-do-reads` | Require instance restart to take effect after updating.       |
| Non-Support Update Parameters | `bind`, `protected-mode`, `port`, `supervised`, `pidfile`, `dir`, etc.                           | Some parameters are built-in parameters, or updating parameters after instance initialization may cause exceptions, thus cannot be changed. |

When updating parameters, please pay attention to the following details:

- Before updating parameters, ensure whether the parameters are hot update parameters. If the parameters to be updated include those that require a restart to take effect, it is recommended to take proper data backups.
- After upgrading the Redis version, if there are parameters to be deleted, deprecated, or changed, please consult the corresponding modifications on the [Redis official website](https://redis.io/topics/config).

## Steps

<Tabs>
  <Tab label="CLI">
    <br />

    ##### Data Node Parameters

    The data node parameter configuration for the instance is specified through the `spec.customConfig` field of the Redis CR resource. Refer to the [API documentation](../apis/kubernetes_apis/redis/redis) for detailed descriptions of the parameters.

    ```bash
    # Update the data node configuration of instance s6
    $ kubectl -n default patch redis s6 --type=merge --patch='{"spec": {"customConfig": {"save":"600 1"}}}'
    ```

    ##### Sentinel Node Parameters

    The parameter configuration for data nodes registering to sentinel nodes is as follows:

    > Currently only supports the following three parameters: `down-after-milliseconds`, `failover-timeout`, `parallel-syncs`.

    ```bash
    # Update the sentinel node configuration of instance s6
    $ kubectl -n default patch redis s6 --type=merge --patch='{"spec": {"sentinel": {"monitorConfig": {"down-after-milliseconds":"30000","failover-timeout":"180000","parallel-syncs":"1"}}}}'
    ```
  </Tab>

  <Tab label="Web Console">
    1. Click **Redis** in the left navigation bar.

    2. Click on ***the name of the namespace***.

    3. Click on ***the name of the instance***.

    4. In the **Parameter Configuration** tab, click **Update Instance Parameters** or **Update Sentinel Parameters**.

    5. Set the parameters.

    6. Click **Update**.
  </Tab>
</Tabs>

